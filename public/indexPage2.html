<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>IIJM+</title>
    <link rel="stylesheet" href="/css/stylePage2.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
</head>

<body>
    <nav>
        <ul>
            <li><a href="/page1">Page 1</a></li>
            <li><a href="/page2" class="active">Page 2</a></li>
            <li><a href="/page3">Page 3</a></li>
        </ul>
    </nav>

    <button id="save-json-button" class="save-json-button">
        <i class="fas fa-paper-plane"></i>
    </button>

    <div id="main-upper-container">
        <div id="title-container">
            <input id="app-title-input" type="text" placeholder="Enter the app title" />
        </div>
        <!-- x-axis-container는 스크롤 가능한 영역으로 설정 -->
        <div id="x-axis-container">
            <div class="time-dividing-section">
                <input type="text" class="time-axis-textbox" placeholder="Before" />
            </div>
            <div class="resize-handle"></div>
            <div class="time-dividing-section">
                <input type="text" class="time-axis-textbox" placeholder="During" />
            </div>
            <div class="resize-handle"></div>
            <div class="time-dividing-section">
                <input type="text" class="time-axis-textbox" placeholder="After" />
            </div>
        </div>
    </div>

    <div id="main-container">
        <div id="artifact-container">
          <div id="row-control-container">
            <input id="main-artifact" type="text" placeholder="Main Artifact" />
            <button id="add-row-button">+</button>
          </div>
        </div>
        <div id="canvas-container">
          <!-- 캔버스는 p5.js에서 생성. -->
        </div>
      </div>

    <div id="loading-spinner-container" style="display: none">
        <div id="loading-spinner"></div>
        <p id="loading-message">Loading...</p>
    </div>

    <!-- ✅ OpenAI API Response 팝업 -->
    <div id="scenario-popup" class="popup-overlay" style="display: none;">
        <div class="popup-content">

            <div id="progress-container">
                <div id="progress-bar"></div>
            </div>

            <!-- ✅ 이미지 영역 -->
        <div id="scenario-images-container">
            <div class="scenario-image-block">
                <img id="scenario-image-1" src="" alt="Generated Image 1">
                <p>Step 1</p>
            </div>
            <div class="scenario-image-block">
                <img id="scenario-image-2" src="" alt="Generated Image 2">
                <p>Step 2</p>
            </div>
            <div class="scenario-image-block">
                <img id="scenario-image-3" src="" alt="Generated Image 3">
                <p>Step 3</p>
            </div>
        </div>

        <!-- ✅ 설명 영역 -->
        <div id="scenario-description">
            <p id="scenario-text">Description Text will appear here.</p>
        </div>

        <!-- ✅ 버튼 영역 -->
        <div class="popup-buttons">
            <button id="copy-popup-button" class="popup-icon-button">
                <i class="fas fa-copy"></i>
            </button>
            <button id="convert-json-button" class="popup-icon-button">
                <i class="fas fa-file-code"></i>
            </button>
            <button id="close-popup-button" class="popup-icon-button">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/p5@1.4.0/lib/p5.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/scriptPage2.js"></script>
</body>

</html>